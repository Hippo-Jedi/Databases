<script type="text/javascript"></script>
<script>
  function filterEmployeeByProject(){
  var project_pno = document.getElementById('project_filter').value

  window.location = '/employee/filter/' + parseInt(project_pno)
  }
  function searchEmployeeByFirstName() {
  //get the first name 
  var first_name_search_string  = document.getElementById('first_name_search_string').value
  //construct the URL and redirect to it
  if (first_name_search_string !== ''){
    window.location = '/employee/search/' + encodeURI(first_name_search_string);
    } else {
    window.location = '/employee';
    } 
  }
</script>
<p>
<h3>Current Employees:</h3>
{{#if PNO}}
        <h4> Project Number {{PNO}}</h4>
{{/if}}
<table id='t01'>
  <thread>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Salary</th>
    <th>Department</th>
  </thread>
  <tbody>
    {{#each employee}}
    <tr>
      <td>{{Fname}}</td>
      <td>{{Lname}}</td>
      <td>{{Salary}}</td>
      <td>{{Dno}}</td>
    </tr>
    {{/each}}
  </tbody>
</table>
</p>

<form id='filter_employee' action='' method=''>
<!--- this form does not submit directly, the button handles all the interaction with backend -->
    <label> Filter by Project </label>
    <select id='project_filter' name="project"> 
        {{#each projects}}
        <option value="{{Pnumber}}">{{Pname}}</option>
        {{/each}}
    </select>
    <input type="button" value="Filter" onclick=filterEmployeeByProject()>
</form>

<form id='search_employee' action='' method=''>
<!--- this form does not submit directly, the button handles all the interaction with backend -->
    <label> Search employee for first name starting with:</label>
    <input id='first_name_search_string' type='text' name='first_name_search_string' value=''>
    <input type="button" value="Search" onclick=searchEmployeeByFirstName()>
</form>
<p>
<a href="/employee" class="green_button"> Clear Filters</a>
<p>